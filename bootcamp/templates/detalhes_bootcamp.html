{% extends 'base.html' %}
{% load static %}

{% block titulo %}
  Detalhes do BootCamp
{% endblock %}


{% block content %}

<main class='bg-primary_black min-h-screen w-full'>
    <section class="h-screen relative bg-no-repeat pb-8 pl-6 flex  items-end bg-cover" style="background-image: url('{{ object.thumb.url }}');">
        <div>
            <h2 class="text-6xl font-semibold text-white my-4">
                {{ object.titulo }}
            </h2>
            <p class=" w-11/12 md:w-8/12 font-medium text-white my-4">
                {{ object.descricao|slice:":150" }}
            </p>
            <div class="flex my-4">
                <a href="{{ object.conteudos.first.caminho }}">
                    <button class="flex items-center bg-white py-2 px-5 rounded-md" style='color:black;'>
                        <ion-icon name="play" class="text-2xl"></ion-icon>
                        <span class="ml-3 font-medium">
                            Play
                        </span>
                    </button>
                </a>
            </div>
        </div>
    </section>
    <section class='bg-primary_black flex justify-center py-10'>
        <div class="p-8 w-10/12 relative" >
            <h2 class="text-gray-200 text-3xl font-medium">
                Descrição
            </h2>
            <div class="flex justify-left  items-center min-w-full  movie_lis">
                <br>
                <p class="text-gray-100 text-lg">
                    {{ object.descricao }}
                    <br> Visualizações: {{ object.visualizacoes }}
                </p>
            </div>

            <div style='margin-top:2rem;margin-bottom:2rem;'>
                <h2 class="text-gray-200 text-3xl font-medium">
                    Módulos
                </h2>
                    <h3 class='text-lg'>
                        <br>
                        {% if pode_ver_bootcamp == False %}
                        <!--Caso o Usuário NÃO esteja matriculado no Bootcamp, emite alerta e da opção de link de inscrição-->
                            <p style="color:#ff4c4c; text-align: center">Você não está inscrito neste Bootcamp</p>
                            <p style="color:#ff4c4c; text-align: center">Infelizmente, você não tem acesso ao conteúdo</p>
                            <p style="color:#ff4c4c; text-align: center">Caso deseje se inscrever, clique no link abaixo</p>
                            <a href= "{{ object.link_interesse }}">
                                <p style="text-align: center">Inscreva-se no Bootcamp</p>
                            </a>
                        {% endif %}

                        {% for boot_modulo in modulos_ordenados%}
                            <p>&nbsp;&nbsp;&nbsp;&nbsp;Módulo {{ forloop.counter }}: {{ boot_modulo.modulo.mod_descricao }}</p>
                            {% for cont_mod in boot_modulo.modulo.modulos_conteudo.all|dictsort:"ordem" %}
                                <!--Caso o Usuário NÃO esteja matriculado no Bootcamp, permite acesso aos conteúdos-->
                                <!--Do contrário, apenas visualiza os conteúdos, mas não acessa-->
                                 {% if cont_mod.conteudo.tipo == "PROVA" %}
                                    {% if pode_ver_bootcamp%}
                                        <a href="{{ cont_mod.conteudo.caminho }}" target="_blank"><p style="padding-left: 70px">{{ cont_mod.conteudo.titulo }}</p></a>
                                    {% else %}
                                        <p style="padding-left: 70px">{{ cont_mod.conteudo.titulo }}</p>
                                    {% endif %}
                                 {% else %}
                                    {% if pode_ver_bootcamp%}
                                        <a href="{% url 'bootcamp:detalhe_conteudo' cont_mod.conteudo.pk %}" target="_blank"><p style="padding-left: 70px">{{ cont_mod.conteudo.titulo }}</p></a>
                                    {% else %}
                                        <p style="padding-left: 70px">{{ cont_mod.conteudo.titulo }}</p>
                                    {% endif %}
                                 {% endif %}
                            {% endfor %}
                            <br>
                        {% endfor %}
                    </h3>
            </div>
        </div>

    </section>

    <section class='bg-primary_black flex justify-center py-10'>
        <div class="p-8 w-10/12 relative" >
            <h2 class="text-gray-200 text-2xl font-medium">
                Bootcamps Relacionados
            </h2>
            <div class="flex flex-wrap items-center min-w-full movie_lis">

                {% for bootcamp in bootcamps_relacionados%}
                <div class="m-4 bg-blue-500 overflow-hidden flex-shrink-0 rounded-md cursor-pointer h-64 w-96">
                    <a href="{% url 'bootcamp:detalhes_bootcamp' bootcamp.pk %}">
                            <img src="{{ bootcamp.thumb.url }}" class="object-cover w-full h-full " alt="">
                    </a>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>

</main>

{% endblock %}